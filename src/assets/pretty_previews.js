var at=Object.defineProperty;var ft=(e,t)=>{for(var n in t)at(e,n,{get:t[n],enumerable:!0})};var se={};ft(se,{arrow:()=>Nt,autoPlacement:()=>kt,autoUpdate:()=>It,computePosition:()=>Vt,detectOverflow:()=>ie,flip:()=>Bt,getOverflowAncestors:()=>re,hide:()=>Ht,inline:()=>Wt,limitShift:()=>jt,offset:()=>Ye,platform:()=>ct,shift:()=>Ft,size:()=>$t});var Te=["top","right","bottom","left"],Me=["start","end"],Le=Te.reduce((e,t)=>e.concat(t,t+"-"+Me[0],t+"-"+Me[1]),[]),V=Math.min,M=Math.max,he=Math.round,ge=Math.floor,J=e=>({x:e,y:e}),ut={left:"right",right:"left",bottom:"top",top:"bottom"},mt={start:"end",end:"start"};function ye(e,t,n){return M(e,V(t,n))}function Y(e,t){return typeof e=="function"?e(t):e}function H(e){return e.split("-")[0]}function X(e){return e.split("-")[1]}function xe(e){return e==="x"?"y":"x"}function be(e){return e==="y"?"height":"width"}function oe(e){return["top","bottom"].includes(H(e))?"y":"x"}function Re(e){return xe(oe(e))}function Ee(e,t,n){n===void 0&&(n=!1);let o=X(e),i=Re(e),r=be(i),s=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(s=de(s)),[s,de(s)]}function De(e){let t=de(e);return[me(e),t,me(t)]}function me(e){return e.replace(/start|end/g,t=>mt[t])}function dt(e,t,n){let o=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:o:t?o:i;case"left":case"right":return t?r:s;default:return[]}}function Ie(e,t,n,o){let i=X(e),r=dt(H(e),n==="start",o);return i&&(r=r.map(s=>s+"-"+i),t&&(r=r.concat(r.map(me)))),r}function de(e){return e.replace(/left|right|bottom|top/g,t=>ut[t])}function ht(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ae(e){return typeof e!="number"?ht(e):{top:e,right:e,bottom:e,left:e}}function Q(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function ke(e,t,n){let{reference:o,floating:i}=e,r=oe(t),s=Re(t),a=be(s),l=H(t),f=r==="y",h=o.x+o.width/2-i.width/2,u=o.y+o.height/2-i.height/2,g=o[a]/2-i[a]/2,d;switch(l){case"top":d={x:h,y:o.y-i.height};break;case"bottom":d={x:h,y:o.y+o.height};break;case"right":d={x:o.x+o.width,y:u};break;case"left":d={x:o.x-i.width,y:u};break;default:d={x:o.x,y:o.y}}switch(X(t)){case"start":d[s]-=g*(n&&f?-1:1);break;case"end":d[s]+=g*(n&&f?-1:1);break}return d}var $e=async(e,t,n)=>{let{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,a=r.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t)),f=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:u}=ke(f,o,l),g=o,d={},w=0;for(let p=0;p<a.length;p++){let{name:c,fn:m}=a[p],{x:v,y:x,data:b,reset:R}=await m({x:h,y:u,initialPlacement:o,placement:g,strategy:i,middlewareData:d,rects:f,platform:s,elements:{reference:e,floating:t}});h=v??h,u=x??u,d={...d,[c]:{...d[c],...b}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(f=R.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):R.rects),{x:h,y:u}=ke(f,g,l)),p=-1)}return{x:h,y:u,placement:g,strategy:i,middlewareData:d}};async function ie(e,t){var n;t===void 0&&(t={});let{x:o,y:i,platform:r,rects:s,elements:a,strategy:l}=e,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:g=!1,padding:d=0}=Y(t,e),w=Ae(d),c=a[g?u==="floating"?"reference":"floating":u],m=Q(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(c)))==null||n?c:c.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:f,rootBoundary:h,strategy:l})),v=u==="floating"?{...s.floating,x:o,y:i}:s.reference,x=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),b=await(r.isElement==null?void 0:r.isElement(x))?await(r.getScale==null?void 0:r.getScale(x))||{x:1,y:1}:{x:1,y:1},R=Q(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:x,strategy:l}):v);return{top:(m.top-R.top+w.top)/b.y,bottom:(R.bottom-m.bottom+w.bottom)/b.y,left:(m.left-R.left+w.left)/b.x,right:(R.right-m.right+w.right)/b.x}}var He=e=>({name:"arrow",options:e,async fn(t){let{x:n,y:o,placement:i,rects:r,platform:s,elements:a,middlewareData:l}=t,{element:f,padding:h=0}=Y(e,t)||{};if(f==null)return{};let u=Ae(h),g={x:n,y:o},d=Re(i),w=be(d),p=await s.getDimensions(f),c=d==="y",m=c?"top":"left",v=c?"bottom":"right",x=c?"clientHeight":"clientWidth",b=r.reference[w]+r.reference[d]-g[d]-r.floating[w],R=g[d]-r.reference[d],y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f)),P=y?y[x]:0;(!P||!await(s.isElement==null?void 0:s.isElement(y)))&&(P=a.floating[x]||r.floating[w]);let I=b/2-R/2,B=P/2-p[w]/2-1,C=V(u[m],B),S=V(u[v],B),E=C,D=P-p[w]-S,T=P/2-p[w]/2+I,k=ye(E,T,D),F=!l.arrow&&X(i)!=null&&T!==k&&r.reference[w]/2-(T<E?C:S)-p[w]/2<0,W=F?T<E?T-E:T-D:0;return{[d]:g[d]+W,data:{[d]:k,centerOffset:T-k-W,...F&&{alignmentOffset:W}},reset:F}}});function gt(e,t,n){return(e?[...n.filter(i=>X(i)===e),...n.filter(i=>X(i)!==e)]:n.filter(i=>H(i)===i)).filter(i=>e?X(i)===e||(t?me(i)!==i:!1):!0)}var Ne=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,o,i;let{rects:r,middlewareData:s,placement:a,platform:l,elements:f}=t,{crossAxis:h=!1,alignment:u,allowedPlacements:g=Le,autoAlignment:d=!0,...w}=Y(e,t),p=u!==void 0||g===Le?gt(u||null,d,g):g,c=await ie(t,w),m=((n=s.autoPlacement)==null?void 0:n.index)||0,v=p[m];if(v==null)return{};let x=Ee(v,r,await(l.isRTL==null?void 0:l.isRTL(f.floating)));if(a!==v)return{reset:{placement:p[0]}};let b=[c[H(v)],c[x[0]],c[x[1]]],R=[...((o=s.autoPlacement)==null?void 0:o.overflows)||[],{placement:v,overflows:b}],y=p[m+1];if(y)return{data:{index:m+1,overflows:R},reset:{placement:y}};let P=R.map(C=>{let S=X(C.placement);return[C.placement,S&&h?C.overflows.slice(0,2).reduce((E,D)=>E+D,0):C.overflows[0],C.overflows]}).sort((C,S)=>C[1]-S[1]),B=((i=P.filter(C=>C[2].slice(0,X(C[0])?2:3).every(S=>S<=0))[0])==null?void 0:i[0])||P[0][0];return B!==a?{data:{index:m+1,overflows:R},reset:{placement:B}}:{}}}},We=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,o;let{placement:i,middlewareData:r,rects:s,initialPlacement:a,platform:l,elements:f}=t,{mainAxis:h=!0,crossAxis:u=!0,fallbackPlacements:g,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:p=!0,...c}=Y(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};let m=H(i),v=H(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(f.floating)),b=g||(v||!p?[de(a)]:De(a));!g&&w!=="none"&&b.push(...Ie(a,p,w,x));let R=[a,...b],y=await ie(t,c),P=[],I=((o=r.flip)==null?void 0:o.overflows)||[];if(h&&P.push(y[m]),u){let E=Ee(i,s,x);P.push(y[E[0]],y[E[1]])}if(I=[...I,{placement:i,overflows:P}],!P.every(E=>E<=0)){var B,C;let E=(((B=r.flip)==null?void 0:B.index)||0)+1,D=R[E];if(D)return{data:{index:E,overflows:I},reset:{placement:D}};let T=(C=I.filter(k=>k.overflows[0]<=0).sort((k,F)=>k.overflows[1]-F.overflows[1])[0])==null?void 0:C.placement;if(!T)switch(d){case"bestFit":{var S;let k=(S=I.map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,ue)=>W+ue,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:S[0];k&&(T=k);break}case"initialPlacement":T=a;break}if(i!==T)return{reset:{placement:T}}}return{}}}};function Fe(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Be(e){return Te.some(t=>e[t]>=0)}var je=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){let{rects:n}=t,{strategy:o="referenceHidden",...i}=Y(e,t);switch(o){case"referenceHidden":{let r=await ie(t,{...i,elementContext:"reference"}),s=Fe(r,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Be(s)}}}case"escaped":{let r=await ie(t,{...i,altBoundary:!0}),s=Fe(r,n.floating);return{data:{escapedOffsets:s,escaped:Be(s)}}}default:return{}}}}};function Ve(e){let t=V(...e.map(r=>r.left)),n=V(...e.map(r=>r.top)),o=M(...e.map(r=>r.right)),i=M(...e.map(r=>r.bottom));return{x:t,y:n,width:o-t,height:i-n}}function pt(e){let t=e.slice().sort((i,r)=>i.y-r.y),n=[],o=null;for(let i=0;i<t.length;i++){let r=t[i];!o||r.y-o.y>o.height/2?n.push([r]):n[n.length-1].push(r),o=r}return n.map(i=>Q(Ve(i)))}var ze=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){let{placement:n,elements:o,rects:i,platform:r,strategy:s}=t,{padding:a=2,x:l,y:f}=Y(e,t),h=Array.from(await(r.getClientRects==null?void 0:r.getClientRects(o.reference))||[]),u=pt(h),g=Q(Ve(h)),d=Ae(a);function w(){if(u.length===2&&u[0].left>u[1].right&&l!=null&&f!=null)return u.find(c=>l>c.left-d.left&&l<c.right+d.right&&f>c.top-d.top&&f<c.bottom+d.bottom)||g;if(u.length>=2){if(oe(n)==="y"){let C=u[0],S=u[u.length-1],E=H(n)==="top",D=C.top,T=S.bottom,k=E?C.left:S.left,F=E?C.right:S.right,W=F-k,ue=T-D;return{top:D,bottom:T,left:k,right:F,width:W,height:ue,x:k,y:D}}let c=H(n)==="left",m=M(...u.map(C=>C.right)),v=V(...u.map(C=>C.left)),x=u.filter(C=>c?C.left===v:C.right===m),b=x[0].top,R=x[x.length-1].bottom,y=v,P=m,I=P-y,B=R-b;return{top:b,bottom:R,left:y,right:P,width:I,height:B,x:y,y:b}}return g}let p=await r.getElementRects({reference:{getBoundingClientRect:w},floating:o.floating,strategy:s});return i.reference.x!==p.reference.x||i.reference.y!==p.reference.y||i.reference.width!==p.reference.width||i.reference.height!==p.reference.height?{reset:{rects:p}}:{}}}};async function wt(e,t){let{placement:n,platform:o,elements:i}=e,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),s=H(n),a=X(n),l=oe(n)==="y",f=["left","top"].includes(s)?-1:1,h=r&&l?-1:1,u=Y(t,e),{mainAxis:g,crossAxis:d,alignmentAxis:w}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...u};return a&&typeof w=="number"&&(d=a==="end"?w*-1:w),l?{x:d*h,y:g*f}:{x:g*f,y:d*h}}var Ye=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,o;let{x:i,y:r,placement:s,middlewareData:a}=t,l=await wt(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(o=a.arrow)!=null&&o.alignmentOffset?{}:{x:i+l.x,y:r+l.y,data:{...l,placement:s}}}}},Xe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){let{x:n,y:o,placement:i}=t,{mainAxis:r=!0,crossAxis:s=!1,limiter:a={fn:c=>{let{x:m,y:v}=c;return{x:m,y:v}}},...l}=Y(e,t),f={x:n,y:o},h=await ie(t,l),u=oe(H(i)),g=xe(u),d=f[g],w=f[u];if(r){let c=g==="y"?"top":"left",m=g==="y"?"bottom":"right",v=d+h[c],x=d-h[m];d=ye(v,d,x)}if(s){let c=u==="y"?"top":"left",m=u==="y"?"bottom":"right",v=w+h[c],x=w-h[m];w=ye(v,w,x)}let p=a.fn({...t,[g]:d,[u]:w});return{...p,data:{x:p.x-n,y:p.y-o}}}}},_e=function(e){return e===void 0&&(e={}),{options:e,fn(t){let{x:n,y:o,placement:i,rects:r,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:f=!0}=Y(e,t),h={x:n,y:o},u=oe(i),g=xe(u),d=h[g],w=h[u],p=Y(a,t),c=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(l){let x=g==="y"?"height":"width",b=r.reference[g]-r.floating[x]+c.mainAxis,R=r.reference[g]+r.reference[x]-c.mainAxis;d<b?d=b:d>R&&(d=R)}if(f){var m,v;let x=g==="y"?"width":"height",b=["top","left"].includes(H(i)),R=r.reference[u]-r.floating[x]+(b&&((m=s.offset)==null?void 0:m[u])||0)+(b?0:c.crossAxis),y=r.reference[u]+r.reference[x]+(b?0:((v=s.offset)==null?void 0:v[u])||0)-(b?c.crossAxis:0);w<R?w=R:w>y&&(w=y)}return{[g]:d,[u]:w}}}},Ue=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){let{placement:n,rects:o,platform:i,elements:r}=t,{apply:s=()=>{},...a}=Y(e,t),l=await ie(t,a),f=H(n),h=X(n),u=oe(n)==="y",{width:g,height:d}=o.floating,w,p;f==="top"||f==="bottom"?(w=f,p=h===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(p=f,w=h==="end"?"top":"bottom");let c=d-l[w],m=g-l[p],v=!t.middlewareData.shift,x=c,b=m;if(u){let y=g-l.left-l.right;b=h||v?V(m,y):y}else{let y=d-l.top-l.bottom;x=h||v?V(c,y):y}if(v&&!h){let y=M(l.left,0),P=M(l.right,0),I=M(l.top,0),B=M(l.bottom,0);u?b=g-2*(y!==0||P!==0?y+P:M(l.left,l.right)):x=d-2*(I!==0||B!==0?I+B:M(l.top,l.bottom))}await s({...t,availableWidth:b,availableHeight:x});let R=await i.getDimensions(r.floating);return g!==R.width||d!==R.height?{reset:{rects:!0}}:{}}}};function Z(e){return Ke(e)?(e.nodeName||"").toLowerCase():"#document"}function N(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function q(e){var t;return(t=(Ke(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ke(e){return e instanceof Node||e instanceof N(e).Node}function K(e){return e instanceof Element||e instanceof N(e).Element}function U(e){return e instanceof HTMLElement||e instanceof N(e).HTMLElement}function qe(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof N(e).ShadowRoot}function ae(e){let{overflow:t,overflowX:n,overflowY:o,display:i}=z(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+n)&&!["inline","contents"].includes(i)}function Ge(e){return["table","td","th"].includes(Z(e))}function Oe(e){let t=Ce(),n=z(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(o=>(n.willChange||"").includes(o))||["paint","layout","strict","content"].some(o=>(n.contain||"").includes(o))}function Je(e){let t=ce(e);for(;U(t)&&!pe(t);){if(Oe(t))return t;t=ce(t)}return null}function Ce(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pe(e){return["html","body","#document"].includes(Z(e))}function z(e){return N(e).getComputedStyle(e)}function we(e){return K(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ce(e){if(Z(e)==="html")return e;let t=e.assignedSlot||e.parentNode||qe(e)&&e.host||q(e);return qe(t)?t.host:t}function Qe(e){let t=ce(e);return pe(t)?e.ownerDocument?e.ownerDocument.body:e.body:U(t)&&ae(t)?t:Qe(t)}function re(e,t,n){var o;t===void 0&&(t=[]),n===void 0&&(n=!0);let i=Qe(e),r=i===((o=e.ownerDocument)==null?void 0:o.body),s=N(i);return r?t.concat(s,s.visualViewport||[],ae(i)?i:[],s.frameElement&&n?re(s.frameElement):[]):t.concat(i,re(i,[],n))}function tt(e){let t=z(e),n=parseFloat(t.width)||0,o=parseFloat(t.height)||0,i=U(e),r=i?e.offsetWidth:n,s=i?e.offsetHeight:o,a=he(n)!==r||he(o)!==s;return a&&(n=r,o=s),{width:n,height:o,$:a}}function Se(e){return K(e)?e:e.contextElement}function fe(e){let t=Se(e);if(!U(t))return J(1);let n=t.getBoundingClientRect(),{width:o,height:i,$:r}=tt(t),s=(r?he(n.width):n.width)/o,a=(r?he(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}var vt=J(0);function nt(e){let t=N(e);return!Ce()||!t.visualViewport?vt:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function yt(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==N(e)?!1:t}function le(e,t,n,o){t===void 0&&(t=!1),n===void 0&&(n=!1);let i=e.getBoundingClientRect(),r=Se(e),s=J(1);t&&(o?K(o)&&(s=fe(o)):s=fe(e));let a=yt(r,n,o)?nt(r):J(0),l=(i.left+a.x)/s.x,f=(i.top+a.y)/s.y,h=i.width/s.x,u=i.height/s.y;if(r){let g=N(r),d=o&&K(o)?N(o):o,w=g,p=w.frameElement;for(;p&&o&&d!==w;){let c=fe(p),m=p.getBoundingClientRect(),v=z(p),x=m.left+(p.clientLeft+parseFloat(v.paddingLeft))*c.x,b=m.top+(p.clientTop+parseFloat(v.paddingTop))*c.y;l*=c.x,f*=c.y,h*=c.x,u*=c.y,l+=x,f+=b,w=N(p),p=w.frameElement}}return Q({width:h,height:u,x:l,y:f})}var xt=[":popover-open",":modal"];function ot(e){return xt.some(t=>{try{return e.matches(t)}catch{return!1}})}function bt(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e,r=i==="fixed",s=q(o),a=t?ot(t.floating):!1;if(o===s||a&&r)return n;let l={scrollLeft:0,scrollTop:0},f=J(1),h=J(0),u=U(o);if((u||!u&&!r)&&((Z(o)!=="body"||ae(s))&&(l=we(o)),U(o))){let g=le(o);f=fe(o),h.x=g.x+o.clientLeft,h.y=g.y+o.clientTop}return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-l.scrollLeft*f.x+h.x,y:n.y*f.y-l.scrollTop*f.y+h.y}}function Rt(e){return Array.from(e.getClientRects())}function it(e){return le(q(e)).left+we(e).scrollLeft}function At(e){let t=q(e),n=we(e),o=e.ownerDocument.body,i=M(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),r=M(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight),s=-n.scrollLeft+it(e),a=-n.scrollTop;return z(o).direction==="rtl"&&(s+=M(t.clientWidth,o.clientWidth)-i),{width:i,height:r,x:s,y:a}}function Ot(e,t){let n=N(e),o=q(e),i=n.visualViewport,r=o.clientWidth,s=o.clientHeight,a=0,l=0;if(i){r=i.width,s=i.height;let f=Ce();(!f||f&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:r,height:s,x:a,y:l}}function Ct(e,t){let n=le(e,!0,t==="fixed"),o=n.top+e.clientTop,i=n.left+e.clientLeft,r=U(e)?fe(e):J(1),s=e.clientWidth*r.x,a=e.clientHeight*r.y,l=i*r.x,f=o*r.y;return{width:s,height:a,x:l,y:f}}function Ze(e,t,n){let o;if(t==="viewport")o=Ot(e,n);else if(t==="document")o=At(q(e));else if(K(t))o=Ct(t,n);else{let i=nt(e);o={...t,x:t.x-i.x,y:t.y-i.y}}return Q(o)}function rt(e,t){let n=ce(e);return n===t||!K(n)||pe(n)?!1:z(n).position==="fixed"||rt(n,t)}function Pt(e,t){let n=t.get(e);if(n)return n;let o=re(e,[],!1).filter(a=>K(a)&&Z(a)!=="body"),i=null,r=z(e).position==="fixed",s=r?ce(e):e;for(;K(s)&&!pe(s);){let a=z(s),l=Oe(s);!l&&a.position==="fixed"&&(i=null),(r?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ae(s)&&!l&&rt(e,s))?o=o.filter(h=>h!==s):i=a,s=ce(s)}return t.set(e,o),o}function Tt(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e,s=[...n==="clippingAncestors"?Pt(t,this._c):[].concat(n),o],a=s[0],l=s.reduce((f,h)=>{let u=Ze(t,h,i);return f.top=M(u.top,f.top),f.right=V(u.right,f.right),f.bottom=V(u.bottom,f.bottom),f.left=M(u.left,f.left),f},Ze(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Lt(e){let{width:t,height:n}=tt(e);return{width:t,height:n}}function Et(e,t,n){let o=U(t),i=q(t),r=n==="fixed",s=le(e,!0,r,t),a={scrollLeft:0,scrollTop:0},l=J(0);if(o||!o&&!r)if((Z(t)!=="body"||ae(i))&&(a=we(t)),o){let u=le(t,!0,r,t);l.x=u.x+t.clientLeft,l.y=u.y+t.clientTop}else i&&(l.x=it(i));let f=s.left+a.scrollLeft-l.x,h=s.top+a.scrollTop-l.y;return{x:f,y:h,width:s.width,height:s.height}}function et(e,t){return!U(e)||z(e).position==="fixed"?null:t?t(e):e.offsetParent}function st(e,t){let n=N(e);if(!U(e)||ot(e))return n;let o=et(e,t);for(;o&&Ge(o)&&z(o).position==="static";)o=et(o,t);return o&&(Z(o)==="html"||Z(o)==="body"&&z(o).position==="static"&&!Oe(o))?n:o||Je(e)||n}var St=async function(e){let t=this.getOffsetParent||st,n=this.getDimensions;return{reference:Et(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function Mt(e){return z(e).direction==="rtl"}var ct={convertOffsetParentRelativeRectToViewportRelativeRect:bt,getDocumentElement:q,getClippingRect:Tt,getOffsetParent:st,getElementRects:St,getClientRects:Rt,getDimensions:Lt,getScale:fe,isElement:K,isRTL:Mt};function Dt(e,t){let n=null,o,i=q(e);function r(){var a;clearTimeout(o),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),r();let{left:f,top:h,width:u,height:g}=e.getBoundingClientRect();if(a||t(),!u||!g)return;let d=ge(h),w=ge(i.clientWidth-(f+u)),p=ge(i.clientHeight-(h+g)),c=ge(f),v={rootMargin:-d+"px "+-w+"px "+-p+"px "+-c+"px",threshold:M(0,V(1,l))||1},x=!0;function b(R){let y=R[0].intersectionRatio;if(y!==l){if(!x)return s();y?s(!1,y):o=setTimeout(()=>{s(!1,1e-7)},100)}x=!1}try{n=new IntersectionObserver(b,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(b,v)}n.observe(e)}return s(!0),r}function It(e,t,n,o){o===void 0&&(o={});let{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=o,f=Se(e),h=i||r?[...f?re(f):[],...re(t)]:[];h.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),r&&m.addEventListener("resize",n)});let u=f&&a?Dt(f,n):null,g=-1,d=null;s&&(d=new ResizeObserver(m=>{let[v]=m;v&&v.target===f&&d&&(d.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var x;(x=d)==null||x.observe(t)})),n()}),f&&!l&&d.observe(f),d.observe(t));let w,p=l?le(e):null;l&&c();function c(){let m=le(e);p&&(m.x!==p.x||m.y!==p.y||m.width!==p.width||m.height!==p.height)&&n(),p=m,w=requestAnimationFrame(c)}return n(),()=>{var m;h.forEach(v=>{i&&v.removeEventListener("scroll",n),r&&v.removeEventListener("resize",n)}),u?.(),(m=d)==null||m.disconnect(),d=null,l&&cancelAnimationFrame(w)}}var kt=Ne,Ft=Xe,Bt=We,$t=Ue,Ht=je,Nt=He,Wt=ze,jt=_e,Vt=(e,t,n)=>{let o=new Map,i={platform:ct,...n},r={...i.platform,_c:o};return $e(e,t,{...i,platform:r})};function ee(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function ve(e,t){return t in e&&typeof e[t]=="string"}function _(e,t){return t in e&&typeof e[t]=="number"}(()=>{function n(c){return ee(c)&&Object.hasOwn(c,"anchorOver")?o(c.anchorOver):!1}function o(c){if(!ee(c)||!ve(c,"anchorId")||!Object.hasOwn(c,"clientRect")||!a(c.clientRect))return!1;if(Object.hasOwn(c,"clientRects")&&Array.isArray(c.clientRects)){for(let m of c.clientRects)if(!a(m))return!1}else return!1;return!!ve(c,"url")}function i(c){return ee(c)&&Object.hasOwn(c,"anchorLeave")?ve(c.anchorLeave,"anchorId"):!1}function r(c){if(!ee(c))return!1;if(Object.hasOwn(c,"mouseMove")){let m=c.mouseMove;return!(!ee(m)||!_(m,"clientX")||!_(m,"clientY"))}else return!1}function s(c){if(!ee(c))return!1;if(Object.hasOwn(c,"previewDimensions")){let m=c.previewDimensions;return!(!ee(m)||!_(m,"height")||!ve(m,"frameCount"))}else return!1}function a(c){return!(!ee(c)||!_(c,"x")||!_(c,"y")||!_(c,"top")||!_(c,"left")||!_(c,"bottom")||!_(c,"right")||!_(c,"width")||!_(c,"height"))}function l(c,m,v){return{x:c.x+m,y:c.y+v,top:c.top+v,left:c.left+m,bottom:c.bottom+v,right:c.right+m,width:c.width,height:c.height}}let f=window.location.search,u=new URLSearchParams(f).get("frameCount")??"0",g=u!=="0",d=0;function w(){return d+=1,d-1}function p(c){g?window.parent.postMessage(c,"*"):postMessage(c,"*")}if(document.body.parentElement.addEventListener("mouseover",c=>{if(!(c.target instanceof HTMLElement))return;let m=c.target,v=m.dataset.previewAnchor;if(v===void 0)return;m.anchorCount||(m.anchorCount=`${w()}`);let x=m.anchorCount,b=`${u}:${x}`,R={anchorOver:{anchorId:b,url:v,clientRect:m.getBoundingClientRect(),clientRects:[]}},y=m.getClientRects();for(let P=0;P<y.length;P++)R.anchorOver.clientRects.push(y[P]);p(R),m.addEventListener("mouseleave",()=>{p({anchorLeave:{anchorId:b}})},{once:!0})}),g)document.body.parentElement.addEventListener("mousemove",c=>{window.parent.postMessage({mouseMove:{clientX:c.clientX,clientY:c.clientY}},"*")}),window.parent.postMessage({previewDimensions:{height:document.body.scrollHeight,frameCount:u}},"*");else{let R=function(A){if(c){let O=c.getBoundingClientRect();x=O.left+A.mouseMove.clientX,b=O.top+A.mouseMove.clientY}E()},P=function(A){y.push(A)},I=function(){let A=y.pop();if(A){A.fadingTimer!==null&&clearTimeout(A.fadingTimer);let O=A.container;O.classList.add("previewFadeout"),O.style.pointerEvents="none",setTimeout(()=>{O.remove()},200)}},B=function(A){for(let O=0;O<y.length;O++)if(y[O].anchor===A)return O;return null},C=function(A){for(;y.length>A;)I()},S=function(A){for(let O=0;O<=A;O++){let L=y[O];L.active=!0,L.fadingTimer!==null&&clearTimeout(L.fadingTimer)}},E=function(){for(let A=y.length-1;A>=0;A--){let O=y[A];if(v!==null&&O.anchor===v||m!==null&&O.anchor===m)break;O.active&&(O.active=!1,O.fadingTimer=setTimeout(()=>C(A),300))}},k=function(A){if(D){if(D.anchorId===A.anchorId)return;T!==null&&clearTimeout(T)}D=A,T=setTimeout(()=>{for(D=null,T=null;y.length>0&&!y[y.length-1].active;)I();let O=ue();document.body.appendChild(O);let L=W(),j={active:!0,fadingTimer:null,anchor:A.anchorId,container:O,clientRect:A.clientRect,clientRects:A.clientRects,frameCount:`${L}`};P(j),lt(A,y.length-1,O,L),O.style.visibility="hidden"},300)},W=function(){return F+=1,F-1},ue=function(){let A=document.createElement("div");return A.classList.add("previewContainer"),A},lt=function(A,O,L,j){let $=A.url,te=$.split("?");if(te.length===1)$=`${$}?frameCount=${j}`;else{let ne=new URLSearchParams(te[1]);ne.delete("frameCount"),ne.append("frameCount",`${j}`),$=`${te[0]}?${ne.toString()}`}let G=document.createElement("iframe");G.setAttribute("sandbox","allow-scripts"),G.src=$,L.appendChild(G),L.addEventListener("mouseleave",()=>{c=null,m=null}),L.addEventListener("mouseenter",()=>{S(O),c=G,m=A.anchorId})},c=null,m=null,v=null,x=0,b=0;addEventListener("mousemove",A=>{x=A.clientX,b=A.clientY,E()});let y=[],D=null,T,F=1;onmessage=A=>{let O=A.data;if(r(O))R(O);else if(i(O))v=null,D=null,T!==null&&(clearTimeout(T),T=null);else if(n(O)){let L=O.anchorOver,j=L.anchorId;v=j;let $=B(j);if($===null){if(c!==null){let te=c.getBoundingClientRect(),G=te.x,ne=te.y;L.clientRect=l(L.clientRect,G,ne),L.clientRects=L.clientRects.map(Pe=>l(Pe,G,ne))}k(L)}else S($)}else if(s(O)){let L=O.previewDimensions;console.log("receivedDims",L);for(let j=y.length-1;j>=0;j--)if(console.log("candidate",y[j]),y[j].frameCount===L.frameCount){let $=y[j],te=$.container.childNodes[0];te.style.height=`${L.height}px`;let G={getBoundingClientRect:()=>$.clientRect,getClientRects:()=>$.clientRects};se.computePosition(G,$.container,{middleware:[se.offset(6),se.flip(),se.inline({x,y:b}),se.shift({padding:5})]}).then(({x:ne,y:Pe})=>{Object.assign($.container.style,{left:`${ne}px`,top:`${Pe}px`})}),$.container.style.visibility="visible";break}}}}})();
